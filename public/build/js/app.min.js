(()=>{var e={39:()=>{!function(){if(document.querySelector("#horas")){const n=document.querySelector('[name="evento_aula"]'),o=document.querySelectorAll('[name="dia"]'),r=document.querySelector('[name="evento_fecha"]'),i=document.querySelector('[name="dia_eve_id"]'),l=document.querySelector('[name="hor_eve_id"]');n.addEventListener("change",e),o.forEach(t=>t.addEventListener("change",e)),r.addEventListener("change",e);let c={aula:n.value||"",dia:+i.value||"",fecha:r.value||""};function e(e){c[e.target.name]=e.target.value,l.value="",i.value="";const a=document.querySelector(".horas__hora--seleccionada");a&&a.classList.remove("horas__hora--seleccionada"),Object.values(c).includes("")&&t()}async function t(){const{aula:e,dia:t,fecha:n}=c,o=`/api/eventos-horario?dia_eve_id=${t}&evento_aula=${e}&evento_fecha=${n}`,r=await fetch(o);!function(e){const t=document.querySelectorAll("#horas li");t.forEach(e=>e.classList.add("horas__hora--deshabilitada"));const n=e.map(e=>e.hor_eve_id);Array.from(t).filter(e=>!n.includes(e.dataset.horaId)).forEach(e=>e.classList.remove("horas__hora--deshabilitada")),document.querySelectorAll("#horas li:not(.horas__hora--deshabilitada)").forEach(e=>e.addEventListener("click",a))}(await r.json())}function a(e){const t=document.querySelector(".horas__hora--seleccionada");t&&t.classList.remove("horas__hora--seleccionada"),e.target.classList.add("horas__hora--seleccionada"),l.value=e.target.dataset.horaId,i.value=document.querySelector('[name="dia"]:checked').value}Object.values(c).includes("")||(async()=>{await t();const e=l.value,n=document.querySelector(`[data-hora-id=${e}]`);n.classList.remove("horas__hora--deshabilitada"),n.classList.add("horas__hora--seleccionada"),n.onclick=a})()}}()},46:()=>{document.addEventListener("DOMContentLoaded",(function(){let e=document.getElementById("calendar");if(e){let n=new FullCalendar.Calendar(e,{initialView:"dayGridMonth",locale:"es",firstDay:1,headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth"},dateClick:function(e){t(!1,{startStr:e.dateStr,extendedProps:{}})},events:"http://localhost:3001/admin/calendario-astronomico/eventos",eventClick:function(e){t(!0,e.event)}});function t(e=!1,t={}){const o=document.createElement("DIV");o.classList.add("modal");let r="";t&&t.extendedProps.imagen&&(r=`\n                        <p class="formulario__texto">Imagen Actual:</p>\n                        <div class="formulario__imagen">\n                            <picture>\n                                <img src="${t.extendedProps.imagen}.png" alt="Imagen Evento" style="max-width:100%; border-radius:8px;">\n                            </picture>\n                        </div>\n                    `),o.innerHTML=`\n                    <form class="modal__formulario nueva-tarea">\n                    <legend class="modal__legend">${e?"Editar Evento Astronómico":"Añade un Nuevo Evento Astronómico"}</legend>\n                        <div class="${e?"formulario__contenido--actualizar":""}">\n                            <div class="formulario__imagen">\n                                ${r}\n                            </div>\n                            <div>\n                                <input type="hidden" id="txtID" name="txtID" value="${t.id?t.id:""}"/>\n                                <div class="formulario__campo">\n                                    <label>Título del Evento Astronómico</label>\n                                    <input \n                                        type="text"\n                                        id="titulo"\n                                        name="titulo"\n                                        placeholder="Añadir título"\n                                        value="${e&&t.title?t.title:""}"\n                                    />\n                                </div>\n                                <div class="formulario__campo">\n                                    <label>Descripción del Evento Astronómico</label>\n                                    <textarea id="descripcion" rows="5">${e&&t.extendedProps&&t.extendedProps.descripcion||""}</textarea>    \n                                </div>\n\n                                <div class="formulario__campo">\n                                    <label>Fecha:</label>\n                                    <input type="text" id="txtFecha" value="${t&&t.startStr?t.startStr.split("T")[0]:""}" disabled/>\n                                </div>\n\n                                <div class="formulario__campo">\n                                    <label>Color:</label>\n                                    <input type="color" id="txtColor" value="${e&&t.backgroundColor?t.backgroundColor:"#838E83"}" />\n                                </div>\n\n                                <div class="formulario__campo">\n                                    <label for="imagen" class="formulario__label">Imagen</label>\n                                    <input type="file" id="imagen" accept="image/png, image/jpeg" class="formulario__input formulario__input--file"/>    \n                                </div>\n                            </div>\n                        </div>\n                        \n\n                            <div class="opciones">\n                                <input type="submit" class="submit-nuevo-evento" value="${e?"Guardar Cambios":"Añadir Evento"}"/>\n                                ${e?'<input type="button" class="submit-eliminar-evento" value="Eliminar Evento"/>':""}\n                                <button type="button" class="cerrar-modal">Cancelar</button>\n                            </div>\n                        \n                        \n                    </form>\n                `,setTimeout(()=>{document.querySelector(".modal__formulario").classList.add("animar")},0);const i=o.querySelector(".modal__formulario"),l=o.querySelector(".submit-eliminar-evento");o.querySelector(".cerrar-modal").addEventListener("click",e=>{e.preventDefault(),e.target.classList.contains("cerrar-modal")&&(document.querySelector(".modal__formulario").classList.add("cerrar"),setTimeout(()=>{o.remove()},500))}),i.addEventListener("submit",r=>{r.preventDefault();const l=i.querySelector("#titulo").value.trim(),c=i.querySelector("#descripcion").value.trim(),d=i.querySelector("#txtColor").value,s=i.querySelector("#txtFecha").value,u=i.querySelector('input[type="file"]').files[0];return l?c?u?(e?async function(e){const t=new FormData;t.append("id",e.id),t.append("calendario_titulo",e.title),t.append("calendario_descripcion",e.descripcion),t.append("calendario_fecha",e.fecha),t.append("calendario_color",e.color),e.archivoImagen&&t.append("calendario_imagen",e.archivoImagen);try{const e="http://localhost:3001/admin/calendario-astronomico/actualizar",n=await fetch(e,{method:"POST",body:t}),o=await n.json();if(console.log(o),a(o.mensaje,o.tipo,document.querySelector(".dashboard")),"exito"===o.tipo){const e=document.getElementById("calendar");FullCalendar.getCalendar(e).refetchEvents()}}catch(e){console.error(e)}}({id:t.id,title:l,descripcion:c,color:d,fecha:s,archivoImagen:u}):async function(e,t){const n=new FormData;n.append("calendario_titulo",e.title),n.append("calendario_descripcion",e.extendedProps.descripcion),n.append("calendario_fecha",e.startStr),n.append("calendario_color",e.backgroundColor),e.archivoImagen&&n.append("calendario_imagen",e.archivoImagen);try{const e="http://localhost:3001/admin/calendario-astronomico/crear",o=await fetch(e,{method:"POST",body:n}),r=await o.json();if(console.log(r),a(r.mensaje,r.tipo,document.querySelector(".modal__formulario legend")),"exito"===r.tipo){t.refetchEvents();const e=document.querySelector(".modal");setTimeout(()=>e.remove(),3e3)}}catch(e){console.log(e)}}({title:l,extendedProps:{descripcion:c,imagen:u.name},startStr:s,backgroundColor:d,archivoImagen:u},n),void o.remove()):a("La imagen es obligatoria","error",i.querySelector("legend")):a("La descripcion del evento es obligatoria","error",i.querySelector("legend")):a("El nombre del Evento Astronomico es obligatorio","error",i.querySelector("legend"))}),l&&l.addEventListener("click",e=>{!async function(e){const t=new FormData;t.append("id",e.id);try{const e="http://localhost:3001/admin/calendario-astronomico/eliminar",n=await fetch(e,{method:"POST",body:t}),o=await n.json();if(console.log(o),a(o.mensaje,o.tipo,document.querySelector(".dashboard")),"exito"===o.tipo){const e=document.getElementById("calendar");FullCalendar.getCalendar(e).refetchEvents()}}catch(e){console.error(e)}}({id:t.id}),o.remove()}),document.querySelector(".dashboard").appendChild(o),o.classList.add("is-open"),document.body.classList.add("no-scroll")}n.render()}function a(e,t,a){const n=document.querySelector(".alerta");n&&n.remove();const o=document.createElement("DIV");o.classList.add("alerta","alerta__"+t),o.textContent=e,a.parentElement.insertBefore(o,a),setTimeout(()=>{o.remove(),document.body.classList.remove("no-scroll")},5e3)}}))},117:()=>{particlesJS({particles:{number:{value:600,density:{enable:!0,value_area:945.2540370224496}},color:{value:"#ffffff"},shape:{type:"circle",stroke:{width:0,color:"#000000"},polygon:{nb_sides:5},image:{src:"img/github.svg",width:100,height:100}},opacity:{value:1,random:!0,anim:{enable:!0,speed:1,opacity_min:0,sync:!1}},size:{value:3.998400639744104,random:!0,anim:{enable:!1,speed:4,size_min:.3,sync:!1}},line_linked:{enable:!1,distance:150,color:"#ffffff",opacity:.4,width:1},move:{enable:!0,speed:1,direction:"none",random:!0,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:600}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"bubble"},onclick:{enable:!0,mode:"repulse"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:1}},bubble:{distance:250,size:0,duration:2,opacity:0,speed:3},repulse:{distance:400,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0})},137:()=>{!function(){const e=document.querySelector("#ponentes_habilidades_input");if(e){const o=document.querySelector("#ponentes_habilidades"),r=document.querySelector('[name="ponentes_habilidades"]');let i=[];function t(){o.textContent="",i.forEach(e=>{const t=document.createElement("LI");t.classList.add("formulario__tag"),t.textContent=e,t.ondblclick=a,o.appendChild(t)}),n()}function a(e){e.target.remove(),i=i.filter(t=>t!==e.target.textContent),n()}function n(){r.value=i.toString()}""!==r.value&&(i=r.value.split(","),t()),e.addEventListener("keypress",(function(a){if(44===a.keyCode){if(""===a.target.value.trim()||a.target.value<1)return;a.preventDefault(),i=[...i,a.target.value.trim()],e.value="",t()}}))}}()},883:()=>{document.addEventListener("DOMContentLoaded",(function(){let e=document.getElementById("calendario");e&&new FullCalendar.Calendar(e,{initialView:"dayGridMonth",locale:"es",firstDay:1,headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth"},events:"http://localhost:3001/admin/calendario-astronomico/eventos",eventClick:function(e){console.log("Diste Click...."),console.log(e.event.title),function(e={}){const t=document.createElement("DIV");t.classList.add("modal");const a=e.title||"Evento sin título",n=e.extendedProps.descripcion,o=e.extendedProps.imagen?`<img src="${e.extendedProps.imagen}.png" alt="${a}" style="max-width:100%; border-radius:8px;">`:'<p style="font-style:italic;">Sin imagen disponible</p>';t.innerHTML=`\n                    <div class="modal__formulario">\n                        <div class="modal__formulario-titulo">\n                            <h2 >${a}</h2>\n                        </div>\n                        <div class="formulario__contenido--actualizar">\n                            <div class="modal__imagen">${o}</div>\n                            <div class="modal__descripcion">\n                                <p>${n}</p>\n                            </div>\n                        </div>\n                        <div class="opciones">\n                            <button type="button" class="cerrar-modal">Cancelar</button>\n                        </div>\n                    </div>\n                `,setTimeout(()=>{t.querySelector(".modal__formulario").classList.add("animar")},0),t.querySelector(".cerrar-modal").addEventListener("click",e=>{e.preventDefault(),e.target.classList.contains("cerrar-modal")&&(document.querySelector(".modal__formulario").classList.add("cerrar"),setTimeout(()=>{t.remove()},500))}),document.querySelector(".body").appendChild(t),t.classList.add("is-open")}(e.event)}}).render()}))},894:()=>{!function(){const e=document.querySelector("#ponentes");if(e){let a=[],n=[];const o=document.querySelector("#listado-ponentes"),r=document.querySelector('[name="pon_eve_id"]');function t(e){const t=e.target,a=document.querySelector(".listado-ponentes__ponente--seleccionado");a&&a.classList.remove("listado-ponentes__ponente--seleccionado"),t.classList.add("listado-ponentes__ponente--seleccionado"),r.value=t.dataset.ponenteId}!async function(){const e=await fetch("/api/ponentes");!function(e=[]){a=e.map(e=>({nombre:`${e.ponentes_nombre.trim()} ${e.ponentes_apellido.trim()}`,id:e.id}))}(await e.json())}(),e.addEventListener("input",(function(e){const r=e.target.value;if(r.length>2){const e=new RegExp(r,"i");n=a.filter(t=>{if(-1!=t.nombre.toLowerCase().search(e))return t})}else n=[];!function(){for(;o.firstChild;)o.removeChild(o.firstChild);if(n.length>0)n.forEach(e=>{const a=document.createElement("LI");a.classList.add("listado-ponentes__ponente"),a.textContent=e.nombre,a.dataset.ponenteId=e.id,a.onclick=t,o.appendChild(a)});else{const e=document.createElement("P");e.classList.add("listado-ponentes__no-resultado"),e.textContent="No hay resultados para tu busqueda",o.appendChild(e)}}()})),r.value&&(async()=>{const e=await async function(e){const t="/api/ponente?id="+e,a=await fetch(t);return await a.json()}(r.value),{ponentes_nombre:t,ponentes_apellido:a}=e,n=document.createElement("LI");n.classList.add("listado-ponentes__ponente","listado-ponentes__ponente--seleccionado"),n.textContent=`${t} ${a}`,o.appendChild(n)})()}}()}},t={};function a(n){var o=t[n];if(void 0!==o)return o.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,a),r.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";a(117),a(137),a(39),a(894),a(46),a(883)})()})();